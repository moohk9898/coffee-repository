<!DOCTYPE html>
<html>
<head>
    <title>결제하기 - Coffee Shop</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        .payment-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .order-summary {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .payment-methods {
            margin-bottom: 2rem;
        }

        .payment-method {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }

        .payment-method:hover {
            border-color: #007bff;
        }

        .payment-method input[type="radio"] {
            margin-right: 1rem;
        }

        .payment-form {
            display: none;
        }

        .payment-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .payment-button {
            width: 100%;
            padding: 1rem;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.1rem;
        }

        .payment-button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <h1>Coffee Shop</h1>
            </div>
            <div class="nav-links">
                <a href="../index.html" class="nav-link">홈</a>
                <a href="../index.html#menu" class="nav-link">메뉴</a>
                <a href="../index.html#about" class="nav-link">소개</a>
            </div>
        </nav>
    </header>

    <main>
        <div class="payment-container">
            <h2>결제하기</h2>
            
            <div class="order-summary">
                <h3>주문 내역</h3>
                <div class="order-item">
                    <span>아메리카노</span>
                    <span>4,500원</span>
                </div>
                <div class="order-item">
                    <span>카페라떼</span>
                    <span>5,000원</span>
                </div>
                <div class="order-item">
                    <strong>총 결제 금액</strong>
                    <strong>9,500원</strong>
                </div>
            </div>

            <div class="payment-methods">
                <h3>결제 수단 선택</h3>
                <div class="payment-method">
                    <input type="radio" name="payment" id="card" value="card">
                    <label for="card">신용카드</label>
                </div>
                <div class="payment-method">
                    <input type="radio" name="payment" id="kakao" value="kakao">
                    <label for="kakao">카카오페이</label>
                </div>
            </div>

            <div id="cardForm" class="payment-form">
                <h3>카드 정보 입력</h3>
                <div class="form-group">
                    <label for="cardNumber">카드 번호</label>
                    <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456">
                </div>
                <div class="form-group">
                    <label for="expiry">만료일</label>
                    <input type="text" id="expiry" placeholder="MM/YY">
                </div>
                <div class="form-group">
                    <label for="cvv">CVV</label>
                    <input type="text" id="cvv" placeholder="123">
                </div>
                <button class="payment-button" onclick="processPayment()">결제하기</button>
            </div>

            <div id="kakaoForm" class="payment-form">
                <h3>카카오페이 결제</h3>
                <button class="payment-button" onclick="processKakaoPayment()">카카오페이로 결제하기</button>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Coffee Shop. All rights reserved.</p>
    </footer>

    <script>
        // URL에서 장바구니 데이터 가져오기
        function getCartData() {
            const urlParams = new URLSearchParams(window.location.search);
            const cartData = urlParams.get('cart');
            return cartData ? JSON.parse(decodeURIComponent(cartData)) : [];
        }

        // 장바구니 데이터 표시
        function displayCartItems() {
            const cart = getCartData();
            const orderSummary = document.querySelector('.order-summary');
            const orderItems = document.createElement('div');
            
            let total = 0;
            
            cart.forEach(item => {
                const orderItem = document.createElement('div');
                orderItem.className = 'order-item';
                orderItem.innerHTML = `
                    <span>${item.name}</span>
                    <span>${item.price.toLocaleString()}원</span>
                `;
                orderItems.appendChild(orderItem);
                total += item.price;
            });

            const totalItem = document.createElement('div');
            totalItem.className = 'order-item';
            totalItem.innerHTML = `
                <strong>총 결제 금액</strong>
                <strong>${total.toLocaleString()}원</strong>
            `;

            orderSummary.innerHTML = '<h3>주문 내역</h3>';
            orderSummary.appendChild(orderItems);
            orderSummary.appendChild(totalItem);
        }

        // 페이지 로드 시 장바구니 데이터 표시
        window.addEventListener('load', displayCartItems);

        // 결제 수단 선택에 따른 폼 표시
        document.querySelectorAll('input[name="payment"]').forEach(radio => {
            radio.addEventListener('change', function() {
                document.querySelectorAll('.payment-form').forEach(form => {
                    form.classList.remove('active');
                });
                if (this.value === 'card') {
                    document.getElementById('cardForm').classList.add('active');
                } else if (this.value === 'kakao') {
                    document.getElementById('kakaoForm').classList.add('active');
                }
            });
        });

        // 결제 처리 함수
        function processPayment() {
            // 실제 결제 처리 로직이 여기에 들어갑니다
            alert('결제가 완료되었습니다!');
            window.location.href = '../index.html';
        }

        // 카카오페이 결제 처리 함수
        function processKakaoPayment() {
            // 카카오페이 결제 처리 로직이 여기에 들어갑니다
            alert('카카오페이 결제가 완료되었습니다!');
            window.location.href = '../index.html';
        }
    </script>
</body>
</html> 